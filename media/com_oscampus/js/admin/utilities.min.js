;(function($){$.Oscampus=$.extend({},$.Oscampus);$.Oscampus.admin=$.extend(true,{},$.Oscampus.admin);$.Oscampus.admin.utilities={};$.Oscampus.admin.utilities.transfer={userDisplays:null,submitters:null,form:null,messaging:null,userRequest:{option:'com_oscampus',format:'raw',view:'utilities',layout:'transfer',id:null},init:function(){var transfer=this;transfer.submitters=$('.osc-transfer-execute');transfer.messaging=$('.osc-transfer-message');transfer.form=$(transfer.submitters[0].form);transfer.submitters.on('click',function(evt){evt.preventDefault();transfer.form.find('[name=execute]').val(1);transfer.messaging.load('index.php',transfer.form.serializeArray(),function(){transfer.userDisplays.each(function(i,el){var display=$(el),userId=display.data('user').val();if(userId>0){var data=$.extend({},transfer.userRequest,{id:userId});display.load('index.php',data);}});});});transfer.userDisplays=$('.osc-transfer[data-field]');this.userDisplays.each(function(i,el){var display=$(el);display.data('user',$(display.attr('data-field')));display.data('user').on('change',function(){var data=$.extend({},transfer.userRequest,{id:$(this).val()});display.load('index.php',data,function(){transfer.form.find('[name=execute]').val(0);transfer.messaging.load('index.php',transfer.form.serializeArray());});});});}}})(jQuery);