;(function($){$.Oscampus=$.extend({},$.Oscampus);$.Oscampus.admin=$.extend(true,{},$.Oscampus.admin);$.Oscampus.admin.lesson={};$.Oscampus.admin.lesson.ordering=function(options){options=$.extend(true,{},this.ordering.options,options);var container=$(options.container),cache=container.html(),reset=$(options.reset);var setup=function(){var modules=container.find(options.modules),lessons=container.find(options.lessons),targets=modules.add(lessons);targets.sortable({handle:options.handle,update:function(){reset.show();}});lessons.children().draggable({connectToSortable:lessons,refreshPositions:true});targets.find(options.handle).css('cursor',options.cursor);reset.hide();};setup();reset.on('click',function(evt){evt.preventDefault();container.html(cache);setup();});};$.Oscampus.admin.lesson.ordering.options={container:'#lessons',modules:'ul.oscampus-module',lessons:'ul.oscampus-lesson',reset:'.reset-lesson-order',handle:'.handle',cursor:'move'};})(jQuery);